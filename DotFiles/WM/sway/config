# ====================
# FONT
# ====================
font pango: JetBrainsMono Nerd Font 12

# ====================
# VARIABLES
# ====================
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term kitty --config ~/.config/kitty/kitty.conf
set $menu wofi --show drun
set $waybar ~/.config/waybar/sway-bar/launch.sh

# ====================
# ASSIGNED
# ====================
assign [app_id="brave-browser"] workspace number 2
assign [app_id="org.gnome.Nautilus"] workspace number 3
assign [app_id="spotify"] workspace number 5
assign [app_id="com.obsproject.Studio"] workspace number 5
# ====================
# APPEARANCE
# ====================


# Wallpaper
output * bg ~/Pictures/walls/evening-sky.png fill

# Borders and Gaps
default_border pixel 0
gaps inner 10
gaps outer 0

# Blur Effects
blur enable
blur_passes 4
blur_radius 4
blur_brightness .2
blur_contrast 1.3

# Corner Radius
corner_radius 10

# Shadows
shadows enable
shadow_blur_radius 15
shadow_color 000000FF
shadow_inactive_color 00000080

# Dim Inactive Windows
default_dim_inactive .4
dim_inactive_colors.unfocused #000000ff
dim_inactive_colors.urgent #f38ba8ff

# Window Colors
# class                 border     backgr.     text       indicator   child_border
client.focused          #cdd6f4    #11111b     #ffffff    #cba6f7     #cba6f7
client.unfocused        #45475a    #11111b     #a6adc8    #313244     #313244
client.urgent           #f38ba8    #7f1d2d     #ffffff    #f38ba8     #f38ba8

# Layer Effects
layer_effects "waybar" shadows enable; corner_radius 12
# Correct SwayFX syntax for config file
# Force the layer effects on the "eww" namespace
layer_effects "eww" shadows enable; corner_radius 16; blur enable
# ====================
# HARDWARE
# ====================

# Monitor
output eDP-1 res 1920x1080 pos 0 0

# Touchpad
input type:touchpad {
    dwt enabled
    tap enabled
}

# Keyboard
input type:keyboard {
    xkb_layout "us"
}



# ====================
# AUTOSTART
# ====================
exec_always autotiling
exec eww 
exec $waybar 
exec_always swaync
exec hypridle
exec swayosd-server
exec dbus-update-activation-environment --all
exec gnome-keyring-daemon --start --components=secrets
# ====================
# KEY BINDINGS
# ====================

# Basics
bindsym $mod+n exec $waybar
bindsym Alt+b exec brave
bindsym Alt+s exec spot12y
bindsym Alt+c exec code 
bindsym Alt+Shift+w exec kitty --class float_wifi impala
bindsym Alt+Shift+b exec kitty --class float_bt bluetui
# Launch with no scrollback and no cursor to make it look like a pure GUI menu
bindsym Alt+Shift+e exec kitty --class power_session -o shell_integration=disabled -o cursor_shape=block -o scrollback_lines=0 ~/.config/scripts/session.sh
bindsym Alt+Shift+s exec kitty --class ss_menu -o shell_integration=disabled -o cursor_shape=block -o scrollback_lines=0 ~/.config/scripts/screenshot.sh

bindsym $mod+Return exec $term
bindsym $mod+w kill
bindsym $mod+d exec $menu
floating_modifier $mod normal
bindsym $mod+m reload

# Moving Around
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move Focused Window 
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Workspaces - Switch
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Workspaces - Move Container
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Layout
bindsym $mod+b splith
bindsym $mod+v splitv
bindsym $mod+s layout stacking
bindsym $mod+q layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+f fullscreen

# Floating
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent

# Scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# Utilities 
# Audio
bindsym --locked XF86AudioMute exec swayosd-client --output-volume mute-toggle
bindsym --locked XF86AudioLowerVolume exec swayosd-client --output-volume lower
bindsym --locked XF86AudioRaiseVolume exec swayosd-client --output-volume raise
bindsym --locked XF86AudioMicMute exec swayosd-client --input-volume mute-toggle
# Brightness 
bindsym --locked XF86MonBrightnessUp exec swayosd-client --brightness raise
bindsym --locked XF86MonBrightnessDown exec swayosd-client --brightness lower

# Screenshot
bindsym Print exec grim


# ====================
# INCLUDES
# ====================
include /etc/sway/config.d/*

# ==================
# RULES
# ======================
# position
for_window [app_id="float_wifi"] floating enable, resize set 900 800, move position center
for_window [app_id="float_bt"] floating enable, resize set 900 800, move position center
for_window [app_id="power_session"] floating enable, resize set 415 350, move position center
for_window [app_id="ss_menu"] floating enable, resize set 420 310, move position center

 # system
workspace_auto_back_and_forth yes 
focus_follows_mouse yes


